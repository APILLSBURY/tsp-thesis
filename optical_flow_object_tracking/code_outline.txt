Code outline of get_object_masks:

1) Find objects  a) For each frame…    i) Get Boolean mask of high flow areas      (1) Get forward flow      (2) Get backward flow      (3) Get intersection of those flows     ii) Find each connected area of that mask. For each of these masks…      (1) Eliminate it if it’s too small      (2) Expand the mask to see the surrounding area      (3) Find the median theta of the flow of the mask      (4) Remove any parts of the mask whose flow is not within a tolerance of the median flow       (5) Eliminate it if it’s too scattered      (6) Check each object.  For each one…        (a) If it’s dead or doesn’t have any masks before the frame in question, continue        (b) Check several possible thetas to see if the current mask is a continuation of this object.  Save the best sameness rating      (7) Check the best sameness ratings of the other objects        (a) If this mask is similar enough to another object, add it to that object        (b) Otherwise, create a new object    iii) Tag any objects that haven’t been updated in a while so we don’t check them for continuation anymore  b) Return the objects found2) Combine objects  a) For each object…    i) For each subsequent object…      (1) Check to see if the subsequent object is a continuation of the original object by finding the best overlap from several thetas and also checking the difference in median theta of the objects      (2) If the objects are similar enough, merge them3) Interpolate objects  a) For each object    i) Eliminate it if it has fewer than the minimum number of frames    ii) Fill in missing masks between found masks4) Find intermediate masks between rough masks to fill in the rest of the frames